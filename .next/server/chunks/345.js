exports.id=345,exports.ids=[345],exports.modules={18160:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/leandroebel/Downloads/DCI/SMNew/components/ui/PageTransitionDots.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/leandroebel/Downloads/DCI/SMNew/components/ui/PageTransitionDots.tsx","default")},24934:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var s=t(60687);t(43210);var a=t(8730),i=t(24224),n=t(96241);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:r,size:t,asChild:i=!1,...o}){let d=i?a.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,n.cn)(l({variant:r,size:t,className:e})),...o})}},28086:(e,r,t)=>{"use strict";t.d(r,{U:()=>i});var s=t(34386),a=t(44999);async function i(){let e=await (0,a.UL)();return(0,s.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:s})=>e.set(r,t,s))}catch{}}}})}},29496:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},30168:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},46055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},48719:(e,r,t)=>{Promise.resolve().then(t.bind(t,18160)),Promise.resolve().then(t.bind(t,80363))},51110:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/leandroebel/Downloads/DCI/SMNew/components/ui/Sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/leandroebel/Downloads/DCI/SMNew/components/ui/Sidebar.tsx","default")},55630:(e,r,t)=>{"use strict";t.d(r,{CI:()=>c,Hh:()=>o,Jv:()=>d,sh:()=>l});var s=t(67218);t(79130);var a=t(28086),i=t(62351);async function n(){return await (0,a.U)()}async function l(){try{let e,r,t,s;let a=await n(),{data:{user:i},error:l}=await a.auth.getUser();if(l||!i)return null;let{data:o,error:d}=await a.from("profiles").select("*").eq("id",i.id).single();if(d)return console.error("Error al obtener perfil:",d),null;try{let{data:n,error:l}=await a.from("skill_assessments").select("numeric_level, level, updated_at, status").eq("user_id",i.id).eq("status","approved");if(!l&&n){let a=n.map(e=>{if("number"==typeof e.numeric_level)return e.numeric_level;switch(e.level){case"basic":return 1;case"intermediate":return 3;case"advanced":return 5;default:return 0}});if(a.length>0){let i=a.reduce((e,r)=>e+r,0);e=parseFloat((i/a.length).toFixed(2)),r=5,t=a.length;let l=n.map(e=>e.updated_at?new Date(e.updated_at).getTime():0).sort((e,r)=>r-e)[0];l&&(s=new Date(l).toISOString())}}}catch(e){console.warn("No se pudieron calcular stats del usuario:",e)}return{id:i.id,email:i.email,first_name:o.first_name||"",last_name:o.last_name||"",role:o.role,avatar_url:o.avatar_url,bio:o.bio,leader_id:o.leader_id,stats:void 0!==e||void 0!==t?{averageScore:e,maxScore:r,validatedCount:t,validatedTotal:t,lastUpdated:s}:void 0}}catch(e){return console.error("Error en getCurrentUserProfile:",e),null}}async function o(e){try{let r=await n(),{data:t,error:s}=await r.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.firstName,last_name:e.lastName,role:e.role}}});if(s)return{error:s.message};if(t.user){try{let{error:s}=await r.from("profiles").insert({id:t.user.id,first_name:e.firstName,last_name:e.lastName,email:e.email,role:e.role});if(s&&!s.message.includes("duplicate key"))return{error:`Error al crear el perfil: ${s.message}`}}catch{}return(0,i.revalidatePath)("/dashboard"),{success:!0,redirect:"/login"}}return{error:"Error al crear la cuenta"}}catch{return{error:"Error inesperado al crear la cuenta"}}}async function d(e){try{let r=await n(),{data:t,error:s}=await r.auth.signInWithPassword({email:e.email,password:e.password});if(s)return{error:s.message};if(t.user)return(0,i.revalidatePath)("/dashboard"),{success:!0,redirect:"/dashboard"};return{error:"Error al iniciar sesi\xf3n"}}catch{return{error:"Error inesperado"}}}async function c(){try{let e=await n(),{error:r}=await e.auth.signOut();if(!r)return(0,i.revalidatePath)("/"),{success:!0,redirect:"/login"};return{error:r.message}}catch{return{error:"Error al cerrar sesi\xf3n"}}}(0,t(17478).D)([l,o,d,c]),(0,s.A)(l,"006e2eee449b9c414b7349248603088c3a3286a21d",null),(0,s.A)(o,"40605441d0e5ef8970c73b4379d4edf953afa23311",null),(0,s.A)(d,"4097d3d710b61f8d2b8d3f59542567969b8140d676",null),(0,s.A)(c,"00d02ff2853c0df034af650bd53700a8930e53fdbf",null)},56967:(e,r,t)=>{Promise.resolve().then(t.bind(t,86242)),Promise.resolve().then(t.bind(t,94593))},58014:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m,metadata:()=>u});var s=t(37413),a=t(56389),i=t.n(a),n=t(51189),l=t.n(n);t(82704);var o=t(80363),d=t(18160),c=t(61120);let u={title:"Skill Matrix",description:"Gestiona tus habilidades y competencias profesionales",generator:"v0.app"};function m({children:e}){return(0,s.jsx)("html",{lang:"es",children:(0,s.jsxs)("body",{className:`${i().variable} ${l().variable} antialiased`,suppressHydrationWarning:!0,children:[(0,s.jsx)(d.default,{}),(0,s.jsx)(c.Suspense,{fallback:null,children:e}),(0,s.jsx)(o.Toaster,{})]})})}},70373:(e,r,t)=>{"use strict";t.d(r,{BK:()=>l,eu:()=>n,q5:()=>o});var s=t(60687);t(43210);var a=t(11096),i=t(96241);function n({className:e,...r}){return(0,s.jsx)(a.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function l({className:e,...r}){return(0,s.jsx)(a._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full object-cover",e),...r})}function o({className:e,children:r,...t}){return(0,s.jsx)(a.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t,children:r})}},78335:()=>{},80363:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/leandroebel/Downloads/DCI/SMNew/components/ui/sonner.tsx","Toaster")},82704:()=>{},86242:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});var s=t(60687),a=t(16189),i=t(43210);function n(){let e=(0,a.usePathname)();(0,i.useRef)(e);let[r,t]=(0,i.useState)(!1),[n,l]=(0,i.useState)(!1);return n&&r?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none animate-dots-fade",children:(0,s.jsx)("div",{className:"flex gap-3",role:"status","aria-label":"Cargando",children:[0,1,2].map(e=>(0,s.jsx)("span",{className:"h-3 w-3 rounded-full bg-gradient-to-r from-indigo-500 to-[#e8114b] animate-dot-bounce",style:{animationDelay:`${180*e}ms`}},e))})}):null}},94593:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>n});var s=t(60687),a=t(10218),i=t(52581);let n=({...e})=>{let{theme:r="system"}=(0,a.D)();return(0,s.jsx)(i.l$,{theme:r,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},96241:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(49384),a=t(82348);function i(...e){return(0,a.QP)((0,s.$)(e))}},96487:()=>{},98717:(e,r,t)=>{"use strict";t.d(r,{default:()=>x});var s=t(60687),a=t(85814),i=t.n(a),n=t(43210),l=t(30474),o=t(24934),d=t(70373),c=t(88105),u=t(52581),m=t(32192),f=t(6727),h=t(58869),v=t(40083);function x({user:e}){let[r,t]=(0,n.useState)(""),[a,x]=(0,n.useState)(!1),p=async()=>{try{let e=(0,c.createBrowserClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),{error:r}=await e.auth.signOut();r?u.oR.error(r.message||"Error al cerrar sesi\xf3n"):u.oR.success("Sesi\xf3n cerrada exitosamente")}catch(e){console.error("Error al cerrar sesi\xf3n:",e),u.oR.error("Error al cerrar sesi\xf3n")}},b=e?.firstName||e?.first_name||(e?.name?e.name.split(" ")[0]:"")||"",g=e?.lastName||e?.last_name||(e?.name?e.name.split(" ").slice(1).join(" "):"")||"",j=[b,g].filter(Boolean).join(" "),w=e?.avatar_url||e?.avatarUrl||void 0,N=(r,t)=>{let s=r?.charAt(0)||"",a=t?.charAt(0)||"";return`${s}${a}`.toUpperCase()||(e?.email?e.email.charAt(0).toUpperCase():"")},y=e=>{switch(e){case"designer":return"Product Designer";case"leader":return"L\xedder";case"head_chapter":return"Head Chapter";case"admin":return"Administrador";default:return e||"Usuario"}},_=e=>!!a&&r?.startsWith(e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("aside",{className:"fixed left-0 top-0 w-64 h-screen bg-white border-r px-8 py-10 flex flex-col items-center z-50",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,s.jsx)("div",{className:"w-36 h-auto",children:(0,s.jsx)(l.default,{src:"/images/latam-logo.svg",alt:"LATAM Logo",width:144,height:40,priority:!0})}),(0,s.jsx)("div",{className:"mt-4 text-2xl font-extrabold text-gray-300 tracking-tight",children:"SkillMatrix"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,s.jsx)("div",{className:"rounded-full p-1 bg-gray-200",children:(0,s.jsxs)(d.eu,{className:"h-28 w-28 ring-4 ring-white shadow-sm",children:[w&&(0,s.jsx)(d.BK,{src:w,alt:"Avatar",referrerPolicy:"no-referrer"}),(0,s.jsx)(d.q5,{className:"text-lg",children:N(b,g)})]})}),(0,s.jsxs)("div",{className:"mt-4 text-center",children:[(0,s.jsx)("div",{className:"text-base font-semibold text-gray-900",children:j||"Usuario"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:y(e?.role)})]})]}),(0,s.jsx)("nav",{className:"w-full flex-1",children:(0,s.jsxs)("ul",{className:"w-full space-y-4 mt-6",children:[(0,s.jsx)("li",{className:"w-full",children:(0,s.jsx)(o.$,{asChild:!0,variant:"ghost",className:`w-full justify-start gap-4 px-4 py-3 ${_("/dashboard")?"bg-gray-50 rounded-md":""}`,children:(0,s.jsxs)(i(),{href:"/dashboard",children:[(0,s.jsx)(m.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"Dashboard"})]})})}),(0,s.jsx)("li",{className:"w-full",children:(0,s.jsx)(o.$,{asChild:!0,variant:"ghost",className:`w-full justify-start gap-4 px-4 py-3 ${_("/auto-evaluaciones")?"bg-gray-50 rounded-md":""}`,children:(0,s.jsxs)(i(),{href:"/auto-evaluaciones",children:[(0,s.jsx)(f.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"Auto evaluaciones"})]})})}),(0,s.jsx)("li",{className:"w-full",children:(0,s.jsx)(o.$,{asChild:!0,variant:"ghost",className:`w-full justify-start gap-4 px-4 py-3 ${_("/profile")?"bg-gray-50 rounded-md":""}`,children:(0,s.jsxs)(i(),{href:"/profile",children:[(0,s.jsx)(h.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"Mi Perfil"})]})})})]})}),(0,s.jsx)("div",{className:"w-full border-t mt-4 mb-4"}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)(o.$,{variant:"outline",className:"w-full justify-start gap-4 px-4 py-3 text-red-600",onClick:p,children:[(0,s.jsx)(v.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-base",children:"Cerrar sesi\xf3n"})]})})]}),(0,s.jsx)("div",{className:"md:hidden fixed bottom-4 left-4 right-4 z-50",children:(0,s.jsx)("div",{className:"bg-white border rounded-lg shadow-sm px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(d.eu,{className:"h-8 w-8",children:[w&&(0,s.jsx)(d.BK,{src:w,alt:"Avatar",referrerPolicy:"no-referrer"}),(0,s.jsx)(d.q5,{className:"text-xs",children:N(b,g)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:b||"Usuario"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:y(e?.role)})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"outline",className:"text-red-600",onClick:p,children:"Cerrar sesi\xf3n"})})]})})})]})}},99766:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(37413);function a(){return(0,s.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-white/70 animate-dots-fade",children:(0,s.jsx)("div",{className:"flex gap-3",role:"status","aria-label":"Cargando",children:[0,1,2].map(e=>(0,s.jsx)("span",{className:"h-4 w-4 rounded-full bg-gradient-to-r from-indigo-500 to-[#e8114b] animate-dot-bounce",style:{animationDelay:`${180*e}ms`}},e))})})}}};