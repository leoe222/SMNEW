(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{8377:(e,a,s)=>{"use strict";s.d(a,{default:()=>ei});var t=s(95155),r=s(12115),i=s(26645),l=s(17580),n=s(16785),o=s(7428),d=s(40235),c=s(1482),u=s(54213),m=s(72111),x=s(98611),h=s(5970),v=s(94498),p=s(53311),g=s(57434),f=s(5040),b=s(70463),j=s(25273),y=s(97520),N=s(57100),A=s(48264),w=s(5456),k=s(13062),S=s(59964),C=s(87949),z=s(40081),I=s(90232),E=s(12548),_=s(64678),P=s(49376),M=s(20590),L=s(84355),D=s(41460),R=s(73314),T=s(3417),U=s(9428),B=s(14186),O=s(54861),H=s(43453),F=s(52169),G=s(53999);let $=F.Kq,q=F.bL,K=F.l9,J=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=6,...i}=e;return(0,t.jsx)(F.ZL,{children:(0,t.jsx)(F.UC,{ref:a,sideOffset:r,className:(0,G.cn)("bg-popover text-popover-foreground z-50 overflow-hidden rounded-md border px-3 py-1.5 text-xs shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});J.displayName=F.UC.displayName;let V=e=>e.normalize("NFD").replace(RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim(),W={[V("Dise\xf1ar workshops colaborativos")]:i.A,[V("Facilitaci\xf3n de workshops")]:l.A,[V("Toma de decisiones grupales")]:n.A,[V("Escucha activa")]:o.A,[V("M\xe9tricas")]:d.A,[V("An\xe1lisis de funnel")]:c.A,[V("Decisiones basadas en datos")]:u.A,[V("Definici\xf3n de hip\xf3tesis")]:m.A,[V("An\xe1lisis de resultados")]:x.A,[V("Muestra y duraci\xf3n de experimentos")]:h.A||m.A,[V("Prototipado")]:v.A,[V("Microinteracciones")]:p.A,[V("Documentaci\xf3n para desarrollo")]:g.A,[V("Storytelling")]:f.A,[V("Propuesta de valor")]:b.A,[V("Guidelines")]:j.A,[V("Consistencia")]:y.A,[V("Microcopy y jerarqu\xeda de informaci\xf3n")]:N.A,[V("Pruebas de usabilidad")]:A.A,[V("Evaluaci\xf3n heur\xedstica")]:w.A,[V("Comunicaci\xf3n con stakeholders")]:k.A,[V("Balance usuario-negocio")]:n.A,[V("Definici\xf3n de objetivos")]:n.A,[V("Presentaci\xf3n resultados")]:A.A,[V("Evangelizaci\xf3n UX")]:S.A,[V("Visi\xf3n estrat\xe9gica")]:b.A,[V("Coaching y mentoring")]:C.A,[V("Colaboraci\xf3n Interdisciplinaria")]:z.A,[V("Madurez de Dise\xf1o")]:I.A,[V("Creaci\xf3n de preguntas de research")]:E.A||f.A,[V("An\xe1lisis de datos")]:_.A||d.A,[V("Generaci\xf3n de insights")]:P.A,[V("Planificaci\xf3n de Investigaci\xf3n")]:j.A,[V("Wireframes y taxonom\xedas")]:M.A||v.A,[V("Patrones y componentes")]:v.A,[V("Visualizaci\xf3n de datos")]:L.A,[V("Definir visi\xf3n del producto")]:b.A,[V("Priorizaci\xf3n de features")]:x.A,[V("Alineaci\xf3n con objetivos de negocio")]:n.A,[V("Crear sistemas de dise\xf1o")]:y.A,[V("Mantener consistencia en UI")]:M.A||v.A,[V("Documentar componentes")]:g.A,[V("Est\xe1ndares WCAG")]:D.A,[V("Dise\xf1o Universal")]:D.A,[V("Test de accesibilidad")]:D.A,[V("M\xednimo de accesibilidad")]:D.A,[V("Prototipado con IA")]:R.A,[V("Uso de IA")]:R.A,[V("Automatizaci\xf3n de flujos de dise\xf1o con IA")]:R.A},X=[{keywords:["hipotesis","hip\xf3tesis"],Icon:m.A},{keywords:["funnel"],Icon:c.A},{keywords:["muestra","duracion","duraci\xf3n"],Icon:h.A||m.A},{keywords:["prototip"],Icon:v.A},{keywords:["microinteracciones"],Icon:p.A},{keywords:["guidelines","documentacion","documentaci\xf3n"],Icon:g.A},{keywords:["storytelling"],Icon:f.A},{keywords:["accesibilidad","wcag"],Icon:D.A},{keywords:["insight"],Icon:P.A},{keywords:["mentoring","coaching"],Icon:C.A},{keywords:["evangelizacion","evangelizaci\xf3n"],Icon:k.A},{keywords:["sistemas","componentes"],Icon:y.A},{keywords:["automatizacion","automatizaci\xf3n","ia "],Icon:R.A},{keywords:["metricas","m\xe9tricas","datos"],Icon:d.A},{keywords:["funnel"],Icon:c.A},{keywords:["decisiones"],Icon:n.A}],Q=[d.A,l.A,n.A,v.A,p.A,g.A,f.A,D.A,b.A,C.A,k.A,y.A,R.A,P.A,o.A,c.A,u.A,i.A,A.A,j.A,N.A,T.A,w.A,x.A,S.A,z.A,I.A,L.A,_.A],Y={},Z={pending:{Icon:B.A,tooltip:"Pendiente de aprobaci\xf3n del l\xedder",bubbleClasses:"bg-amber-500 text-white shadow-[0_6px_16px_rgba(245,158,11,0.22)]",iconClasses:"text-white",srLabel:"Pendiente de aprobaci\xf3n",label:"Pendiente"},rejected:{Icon:O.A,tooltip:"Solicitud rechazada por el l\xedder",bubbleClasses:"bg-red-600 text-white shadow-[0_6px_18px_rgba(239,68,68,0.26)]",iconClasses:"text-white",srLabel:"Solicitud rechazada",label:"Rechazado"},approved:{Icon:H.A,tooltip:"Aprobado por tu l\xedder",bubbleClasses:"bg-emerald-500 text-white shadow-[0_6px_18px_rgba(16,185,129,0.24)]",iconClasses:"text-white",srLabel:"Nivel aprobado",label:"Aprobado"}};function ee(e){var a;let{skill:s,onOpen:i}=e,l=function(e){let a=V(e);if(Y[a])return Y[a];if(W[a])return Y[a]=W[a],Y[a];for(let e of X)if(e.keywords.some(e=>a.includes(e))){let s=new Set(Object.values(Y)),t=e.Icon;return s.has(t)&&(t=Q.find(e=>!s.has(e))||t),Y[a]=t,t}let s=0;for(let e=0;e<a.length;e++)s=31*s+a.charCodeAt(e)>>>0;let t=Q[s%Q.length]||U.A;return Y[a]=t,t}(s.title),n=null!==(a=s.currentScore)&&void 0!==a?a:"-",o=s.status?Z[s.status]:null,d=null==o?void 0:o.Icon,[c,u]=r.useState(!1),[m,x]=r.useState(!1),[h,v]=r.useState(!1),[p,g]=r.useState(null),f=r.useRef(null),b=r.useRef(null),j=r.useRef(null),y=r.useCallback(()=>{f.current&&(clearTimeout(f.current),f.current=null)},[]),N=r.useCallback(()=>{b.current&&(clearTimeout(b.current),b.current=null)},[]),A=r.useCallback(()=>{u(!0),f.current||(f.current=setTimeout(()=>{x(!0),v(!0),f.current=null},2e3))},[]),w=r.useCallback(()=>{u(!1),y(),x(!1),N(),b.current=setTimeout(()=>{v(!1),b.current=null,j.current&&g(Math.max(j.current.offsetHeight,150))},260)},[N,y]);r.useLayoutEffect(()=>{!h&&j.current&&g(Math.max(j.current.offsetHeight,150))},[h,n,s.description]),r.useEffect(()=>()=>{y(),N()},[N,y]);let k=o?(0,t.jsx)($,{children:(0,t.jsxs)(q,{children:[(0,t.jsx)(K,{asChild:!0,children:(0,t.jsxs)("span",{className:"absolute -top-4 left-1/2 z-20 flex h-11 min-w-[44px] -translate-x-1/2 items-center justify-center overflow-hidden rounded-full px-0 transition-all duration-300 ease-out hover:scale-105 hover:px-4 group-hover:px-4 group-focus-visible:px-4 ".concat(o.bubbleClasses),children:[d&&(0,t.jsx)(d,{className:"h-5 w-5 ".concat(o.iconClasses),"aria-hidden":"true"}),(0,t.jsx)("span",{"aria-hidden":"true",className:"ml-0 max-w-0 translate-y-1 overflow-hidden text-xs font-semibold uppercase tracking-wide opacity-0 transition-all duration-300 ease-out group-hover:ml-2 group-hover:max-w-[120px] group-hover:translate-y-0 group-hover:opacity-100 group-focus-visible:ml-2 group-focus-visible:max-w-[120px] group-focus-visible:translate-y-0 group-focus-visible:opacity-100 hover:ml-2 hover:max-w-[120px] hover:translate-y-0 hover:opacity-100",children:o.label}),(0,t.jsx)("span",{className:"sr-only",children:"rejected"===s.status?"Motivo de rechazo: ".concat(s.rejectionReason||"—"):o.srLabel})]})}),(0,t.jsx)(J,{children:"rejected"===s.status?"Motivo de rechazo: ".concat(s.rejectionReason||"—"):o.tooltip})]})}):null,S=null!=p?Math.max(p,150):150;return(0,t.jsx)("div",{className:"relative rounded-2xl overflow-visible h-full",style:null!=p?{height:S}:{minHeight:150},children:(0,t.jsxs)("button",{ref:j,type:"button",onClick:()=>i(s),className:"".concat("group w-full text-left bg-white rounded-2xl border border-gray-200 p-5 shadow-sm transition-all duration-300 ease-out relative focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"," ").concat(h?"z-30 shadow-xl border-indigo-200 ring-2 ring-indigo-100":c?"z-20 shadow-md border-indigo-300":""," flex flex-col ").concat(h?"absolute inset-0 rounded-2xl":""),style:{transform:h?"scale3d(1.08,1.05,1)":c?"scale3d(1.03,1.02,1)":"scale3d(1,1,1)",minHeight:150},onMouseEnter:A,onMouseLeave:w,onFocus:A,onBlur:w,children:[(0,t.jsx)("div",{className:"absolute top-5 left-5 h-10 w-10 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-100",children:(0,t.jsx)(l,{size:22,strokeWidth:1.75})}),k,(0,t.jsxs)("div",{className:"absolute top-5 right-5 flex flex-col items-end leading-tight",children:[(0,t.jsx)("span",{className:"text-3xl font-bold tabular-nums leading-none text-indigo-600",children:n}),(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-wide text-gray-500 mt-1 whitespace-nowrap",children:"Nivel"})]}),(0,t.jsxs)("div",{className:"mt-16 flex flex-col",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold tracking-tight group-hover:text-indigo-700 break-words leading-tight",children:s.title}),s.description&&(0,t.jsx)("div",{className:"text-sm text-gray-600 transition-all duration-300 ease-out overflow-hidden ".concat(m?"opacity-100 translate-y-0 max-h-40 pt-2":"opacity-0 -translate-y-1 max-h-0 pointer-events-none"),"aria-hidden":!m,children:(0,t.jsx)("p",{className:"break-words leading-relaxed",children:s.description})})]}),(0,t.jsx)("span",{className:"absolute inset-0 rounded-2xl ring-1 ring-transparent group-hover:ring-indigo-200 pointer-events-none"})]})})}var ea=s(40646);let es=[{value:0,label:"No familiarizado",short:"No conozco el concepto."},{value:1,label:"Comprendo",short:"Entiendo prop\xf3sito b\xe1sico."},{value:2,label:"En desarrollo",short:"Aplico con gu\xeda ocasional."},{value:3,label:"Aut\xf3nomo",short:"Ejecuto sin ayuda."},{value:4,label:"Promuevo",short:"Gu\xedo a otros."},{value:5,label:"Transformo",short:"Genero innovaci\xf3n."}];function et(e){let{skill:a,open:s,onClose:i,onSave:l}=e,[n,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(a){var e;o(null!=a.currentScore?a.currentScore:null),c(null!==(e=a.comment)&&void 0!==e?e:"")}else o(null),c("")},[a]);let x=(0,r.useMemo)(()=>{var e;return(null==a?void 0:null===(e=a.levels)||void 0===e?void 0:e.reduce((e,a)=>(e[a.level]=a.description,e),{}))||{}},[null==a?void 0:a.levels]),h=(0,r.useMemo)(()=>{if((null==a?void 0:a.currentScore)==null)return null;let e=es.find(e=>e.value===a.currentScore);return e?"".concat(e.label," (").concat(e.value,")"):"".concat(a.currentScore)},[null==a?void 0:a.currentScore]),v=(0,r.useMemo)(()=>{let e=null==a?void 0:a.statusAt;if(!e)return null;try{let a=new Date(e);if(Number.isNaN(a.getTime()))return null;return a.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}catch(e){return null}},[a]),p=async()=>{if(a){m(!0);try{await l(a.id,n,d)}finally{m(!1),i()}}};return s&&a?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>!u&&i()}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl shadow-xl border border-gray-200 animate-in fade-in zoom-in",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between p-6 border-b",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:a.title}),a.description&&(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600 leading-relaxed",children:a.description})]}),(0,t.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",disabled:u,children:"✕"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-8",children:[a.status&&(0,t.jsxs)("div",{children:["pending"===a.status&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border border-amber-200 bg-amber-50 text-amber-900",children:[(0,t.jsx)(B.A,{className:"h-5 w-5 mt-0.5 text-amber-600","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"font-medium",children:["Pendiente de aprobaci\xf3n",h?" \xb7 Nivel actual: ".concat(h):"",v?" \xb7 ".concat(v):""]}),(0,t.jsx)("p",{className:"mt-0.5",children:"Tu l\xedder a\xfan no revisa esta autoevaluaci\xf3n. Puedes actualizar el nivel y se mantendr\xe1 pendiente."})]})]}),"rejected"===a.status&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border border-red-200 bg-red-50 text-red-900",children:[(0,t.jsx)(O.A,{className:"h-5 w-5 mt-0.5 text-red-600","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"font-medium",children:["Evaluaci\xf3n rechazada",h?" \xb7 Nivel actual: ".concat(h):"",v?" \xb7 ".concat(v):"",a.rejectedByName?" \xb7 por ".concat(a.rejectedByName):""]}),a.rejectionReason?(0,t.jsxs)("p",{className:"mt-0.5",children:["Motivo: ",a.rejectionReason]}):(0,t.jsx)("p",{className:"mt-0.5",children:"Tu l\xedder rechaz\xf3 esta evaluaci\xf3n. Revisa y selecciona un nuevo nivel."})]})]}),"approved"===a.status&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border border-emerald-200 bg-emerald-50 text-emerald-900",children:[(0,t.jsx)(ea.A,{className:"h-5 w-5 mt-0.5 text-emerald-600","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"font-medium",children:["Evaluaci\xf3n aprobada",h?" \xb7 Nivel actual: ".concat(h):"",v?" \xb7 ".concat(v):"",a.approvedByName?" \xb7 por ".concat(a.approvedByName):""]}),(0,t.jsx)("p",{className:"mt-0.5",children:"Si actualizas el nivel, la evaluaci\xf3n pasar\xe1 nuevamente a estado pendiente para aprobaci\xf3n."})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Selecciona tu nivel"}),(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:es.map(e=>(0,t.jsx)(er,{opt:e,selected:n,setSelected:o,contextual:x[e.value]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cu\xe9ntanos un poco m\xe1s"}),(0,t.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),className:"w-full border rounded-md p-3 text-sm min-h-[120px] focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Ej: He facilitado..."})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50 rounded-b-xl",children:[(0,t.jsx)("button",{onClick:i,disabled:u,className:"px-4 py-2 text-sm rounded-md border border-gray-300 bg-white hover:bg-gray-100 disabled:opacity-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:p,disabled:u,className:"px-5 py-2.5 text-sm font-medium rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",children:u?"Guardando...":"Guardar"})]})]})]}):null}function er(e){let{opt:a,selected:s,setSelected:i,contextual:l}=e,n=(0,r.useRef)(null),[o,d]=(0,r.useState)(!1),c=s===a.value;return(0,r.useEffect)(()=>{if(n.current!==s&&c){d(!0);let e=setTimeout(()=>d(!1),350);return()=>clearTimeout(e)}n.current=s},[s,c]),(0,t.jsxs)("button",{type:"button",onClick:()=>i(a.value),className:"text-left relative rounded-lg border p-4 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 ".concat(c?"border-indigo-500 shadow-md bg-indigo-50":"border-gray-200 hover:border-indigo-400"," ").concat(o?"ring-2 ring-indigo-300":""),children:[(0,t.jsx)("div",{className:"font-semibold text-sm",children:a.label}),(0,t.jsx)("div",{className:"mt-1 text-xs text-gray-600 leading-relaxed",children:l||a.short}),c&&(0,t.jsx)("span",{className:"absolute top-2 right-2 text-[11px] inline-flex items-center justify-center h-6 w-6 rounded-full bg-indigo-600 text-white font-semibold",children:a.value})]})}function ei(e){var a,s,i,l;let{slug:n,meta:o,skills:d}=e,[c,u]=(0,r.useState)(d),m="assessment:".concat(n);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(m);if(e){let a=JSON.parse(e);Array.isArray(a)&&a.length&&u(e=>e.map(e=>{var s;let t=[...a].reverse().find(a=>a.skillId===e.id);return t?{...e,currentScore:t.score,comment:t.comment,status:null!==(s=e.status)&&void 0!==s?s:t.status}:e}))}}catch(e){console.warn("Hydration failed",e)}},[m]);let x=(0,r.useMemo)(()=>(function(e){let a=e.length,s=e.filter(e=>null!=e.currentScore).length,t=e.filter(e=>"approved"===e.status&&null!=e.currentScore),r=t.reduce((e,a)=>{var s;return e+(null!==(s=a.currentScore)&&void 0!==s?s:0)},0),i=t.length?+(r/t.length).toFixed(1):0;return{total:a,completed:s,avg:i,approved:e.filter(e=>"approved"===e.status).length,pending:e.filter(e=>"pending"===e.status).length}})(c),[c]),h=(0,r.useCallback)(async(e,a,s)=>{u(c.map(s=>s.id===e?{...s,currentScore:null!=a?a:null,status:"number"==typeof a?"pending":s.status}:s).map(a=>a.id===e?{...a,comment:s}:a));let t={skillId:e,score:a,comment:s,status:"number"==typeof a?"pending":void 0,updatedAt:new Date().toISOString()};try{let a=JSON.parse(localStorage.getItem(m)||"[]");Array.isArray(a)||(a=[]),(a=a.filter(a=>a.skillId!==e)).push(t),localStorage.setItem(m,JSON.stringify(a))}catch(e){console.error("failed to persist",e)}try{let t=c.find(a=>a.id===e);if(t&&"number"==typeof a){let r=await fetch("/api/assessments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.title,skillId:t.dbSkillId,numericLevel:a,justification:s})}),i=await r.json().catch(()=>({}));r.ok&&(null==i?void 0:i.success)!==!1||u(a=>a.map(a=>a.id===e?{...a,status:void 0}:a))}}catch(e){console.warn("Server save failed (kept local backup):",e)}},[c,m]),[v,p]=(0,r.useState)(!1),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=g.current;if(!e)return;let a=new IntersectionObserver(e=>{let[a]=e;p(!a.isIntersecting)},{root:null,threshold:.01});return a.observe(e),()=>a.disconnect()},[]);let f=x.completed/Math.max(1,x.total)*100;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"sticky top-0 z-40 transition-all duration-300 ".concat(v?"bg-white border-b shadow-md":"bg-transparent"," "),children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 ".concat(v?"py-3":"py-0"," flex items-center justify-between gap-4"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 min-w-0 w-full",children:[(0,t.jsx)("h1",{className:"font-bold tracking-tight ".concat(v?"text-lg whitespace-nowrap flex-shrink-0":"text-transparent h-0 overflow-hidden -mb-6"," "),children:null!==(a=null==o?void 0:o.label)&&void 0!==a?a:n}),v&&(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsxs)("span",{className:"text-xs font-medium text-gray-600 whitespace-nowrap",children:[x.completed," de ",x.total]}),(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 bg-green-600 transition-all",style:{width:"".concat(f,"%")}})}),(0,t.jsxs)("span",{className:"text-xs font-medium text-gray-600 whitespace-nowrap",children:[Math.round(f),"%"]})]})]}),v&&(0,t.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,t.jsx)("span",{className:"text-2xl font-extrabold tabular-nums",children:x.avg}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Promedio"})]})]})}),(0,t.jsxs)("div",{ref:g,className:"mt-2 mb-8",children:[(0,t.jsxs)("div",{className:"max-w-7xl",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:null!==(s=null==o?void 0:o.label)&&void 0!==s?s:n}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"h-2 bg-gray-300 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 bg-green-600 transition-all",style:{width:"".concat(f,"%")}})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-700 mt-2",children:[(0,t.jsxs)("span",{children:[x.completed," de ",x.total]}),(0,t.jsx)("span",{className:"text-gray-400",children:"|"}),(0,t.jsxs)("span",{children:[Math.round(f),"% Completado"]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-start justify-between gap-10",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6 flex-1 min-w-0",children:[(null==o?void 0:o.image)?(0,t.jsx)("img",{src:o.image,alt:null!==(i=o.label)&&void 0!==i?i:n,className:"w-28 h-28 object-contain flex-shrink-0"}):null,(0,t.jsxs)("p",{className:"text-base text-gray-700 leading-relaxed",children:[null!==(l=null==o?void 0:o.description)&&void 0!==l?l:"Completa las habilidades para esta categor\xeda."," ",(0,t.jsx)("a",{href:"#",className:"text-indigo-600 underline font-medium",children:"Quiero saber m\xe1s"})]})]}),(0,t.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,t.jsx)("div",{className:"text-3xl font-extrabold tabular-nums",children:x.avg}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Promedio"}),(0,t.jsx)("div",{className:"text-[10px] text-gray-400",children:"Solo evaluaciones aprobadas"}),(0,t.jsxs)("div",{className:"mt-1 text-xs text-gray-500",children:["✔︎ ",x.approved," aprobadas \xb7 ⏳ ",x.pending," pendientes"]})]})]})]}),(0,t.jsx)("h2",{className:"text-2xl font-semibold tracking-tight mb-6",children:"Mapea tu experiencia con las siguientes habilidades:"}),(0,t.jsx)(el,{slug:n,skills:c,onSave:h})]})}function el(e){let{skills:a,onSave:s,slug:i}=e,[l,n]=(0,r.useState)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.map(e=>(0,t.jsx)(ee,{skill:e,onOpen:n},e.id))}),(0,t.jsx)(et,{skill:l,open:!!l,onClose:()=>n(null),onSave:s})]})}},20343:(e,a,s)=>{"use strict";s.d(a,{default:()=>g});var t=s(95155),r=s(6874),i=s.n(r),l=s(12115),n=s(66766),o=s(97168),d=s(69663),c=s(83254),u=s(87358),m=s(56671),x=s(57340),h=s(25273),v=s(71007),p=s(34835);function g(e){let{user:a}=e,[s,r]=(0,l.useState)(""),[g,f]=(0,l.useState)(!1);(0,l.useLayoutEffect)(()=>{r(window.location.pathname),f(!0)},[]);let b=async()=>{try{let e=(0,c.createBrowserClient)(u.env.NEXT_PUBLIC_SUPABASE_URL,u.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),{error:a}=await e.auth.signOut();a?m.oR.error(a.message||"Error al cerrar sesi\xf3n"):(m.oR.success("Sesi\xf3n cerrada exitosamente"),window.location.href="/login")}catch(e){console.error("Error al cerrar sesi\xf3n:",e),m.oR.error("Error al cerrar sesi\xf3n")}},j=(null==a?void 0:a.firstName)||(null==a?void 0:a.first_name)||((null==a?void 0:a.name)?a.name.split(" ")[0]:"")||"",y=(null==a?void 0:a.lastName)||(null==a?void 0:a.last_name)||((null==a?void 0:a.name)?a.name.split(" ").slice(1).join(" "):"")||"",N=[j,y].filter(Boolean).join(" "),A=(null==a?void 0:a.avatar_url)||(null==a?void 0:a.avatarUrl)||void 0,w=(e,s)=>{let t=(null==e?void 0:e.charAt(0))||"",r=(null==s?void 0:s.charAt(0))||"";return"".concat(t).concat(r).toUpperCase()||((null==a?void 0:a.email)?a.email.charAt(0).toUpperCase():"")},k=e=>{switch(e){case"designer":return"Product Designer";case"leader":return"L\xedder";case"head_chapter":return"Head Chapter";case"admin":return"Administrador";default:return e||"Usuario"}},S=e=>!!g&&(null==s?void 0:s.startsWith(e));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("aside",{className:"fixed left-0 top-0 w-64 h-screen bg-white border-r px-8 py-10 flex flex-col items-center z-50",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,t.jsx)("div",{className:"w-36 h-auto",children:(0,t.jsx)(n.default,{src:"/images/latam-logo.svg",alt:"LATAM Logo",width:144,height:40,priority:!0})}),(0,t.jsx)("div",{className:"mt-4 text-2xl font-extrabold text-gray-300 tracking-tight",children:"SkillMatrix"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,t.jsx)("div",{className:"rounded-full p-1 bg-gray-200",children:(0,t.jsxs)(d.eu,{className:"h-28 w-28 ring-4 ring-white shadow-sm",children:[A&&(0,t.jsx)(d.BK,{src:A,alt:"Avatar",referrerPolicy:"no-referrer"}),(0,t.jsx)(d.q5,{className:"text-lg",children:w(j,y)})]})}),(0,t.jsxs)("div",{className:"mt-4 text-center",children:[(0,t.jsx)("div",{className:"text-base font-semibold text-gray-900",children:N||"Usuario"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:k(null==a?void 0:a.role)})]})]}),(0,t.jsx)("nav",{className:"w-full flex-1",children:(0,t.jsxs)("ul",{className:"w-full space-y-4 mt-6",children:[(0,t.jsx)("li",{className:"w-full",children:(0,t.jsx)(o.$,{asChild:!0,variant:"ghost",className:"w-full justify-start gap-4 px-4 py-3 ".concat(S("/dashboard")?"bg-gray-50 rounded-md":""),children:(0,t.jsxs)(i(),{href:"/dashboard",children:[(0,t.jsx)(x.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-base font-medium",children:"Dashboard"})]})})}),(0,t.jsx)("li",{className:"w-full",children:(0,t.jsx)(o.$,{asChild:!0,variant:"ghost",className:"w-full justify-start gap-4 px-4 py-3 ".concat(S("/auto-evaluaciones")?"bg-gray-50 rounded-md":""),children:(0,t.jsxs)(i(),{href:"/auto-evaluaciones",children:[(0,t.jsx)(h.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-base font-medium",children:"Auto evaluaciones"})]})})}),(0,t.jsx)("li",{className:"w-full",children:(0,t.jsx)(o.$,{asChild:!0,variant:"ghost",className:"w-full justify-start gap-4 px-4 py-3 ".concat(S("/profile")?"bg-gray-50 rounded-md":""),children:(0,t.jsxs)(i(),{href:"/profile",children:[(0,t.jsx)(v.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-base font-medium",children:"Mi Perfil"})]})})})]})}),(0,t.jsx)("div",{className:"w-full border-t mt-4 mb-4"}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)(o.$,{variant:"outline",className:"w-full justify-start gap-4 px-4 py-3 text-red-600",onClick:b,children:[(0,t.jsx)(p.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-base",children:"Cerrar sesi\xf3n"})]})})]}),(0,t.jsx)("div",{className:"md:hidden fixed bottom-4 left-4 right-4 z-50",children:(0,t.jsx)("div",{className:"bg-white border rounded-lg shadow-sm px-3 py-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(d.eu,{className:"h-8 w-8",children:[A&&(0,t.jsx)(d.BK,{src:A,alt:"Avatar",referrerPolicy:"no-referrer"}),(0,t.jsx)(d.q5,{className:"text-xs",children:w(j,y)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:j||"Usuario"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:k(null==a?void 0:a.role)})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(o.$,{variant:"outline",className:"text-red-600",onClick:b,children:"Cerrar sesi\xf3n"})})]})})})]})}},53999:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(52596),r=s(39688);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},63043:(e,a,s)=>{Promise.resolve().then(s.bind(s,8377)),Promise.resolve().then(s.bind(s,20343)),Promise.resolve().then(s.t.bind(s,6874,23))},69663:(e,a,s)=>{"use strict";s.d(a,{BK:()=>n,eu:()=>l,q5:()=>o});var t=s(95155);s(12115);var r=s(54011),i=s(53999);function l(e){let{className:a,...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)(r._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full object-cover",a),...s})}function o(e){let{className:a,children:s,...l}=e;return(0,t.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...l,children:s})}},97168:(e,a,s)=>{"use strict";s.d(a,{$:()=>o});var t=s(95155);s(12115);var r=s(99708),i=s(74466),l=s(53999);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:a,variant:s,size:i,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,l.cn)(n({variant:s,size:i,className:a})),...d})}}},e=>{var a=a=>e(e.s=a);e.O(0,[671,874,352,580,154,441,684,358],()=>a(63043)),_N_E=e.O()}]);