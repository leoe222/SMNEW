(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{12159:(e,a,s)=>{Promise.resolve().then(s.bind(s,99830)),Promise.resolve().then(s.bind(s,54970)),Promise.resolve().then(s.bind(s,61432)),Promise.resolve().then(s.bind(s,80574)),Promise.resolve().then(s.bind(s,40364)),Promise.resolve().then(s.bind(s,73765)),Promise.resolve().then(s.bind(s,20343)),Promise.resolve().then(s.bind(s,53908))},40364:(e,a,s)=>{"use strict";s.d(a,{default:()=>c});var t=s(95155),r=s(40235),l=s(16785),i=s(17580),n=s(32568);function c(e){let{average:a,averageMax:s=4.9,delta:c,objectivesCount:o,validatedCount:d,validatedTotal:m,lastUpdated:x}=e;return(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border-b-4 border-purple-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"T\xfa promedio general"}),(0,t.jsxs)("div",{className:"mt-3 flex items-baseline gap-3",children:[(0,t.jsx)("div",{className:"text-3xl font-extrabold text-gray-900",children:null==a?void 0:a.toFixed(1)}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["De m\xe1ximo ",s]})]}),c&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-green-600 font-medium",children:[c," ",(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"vs mes anterior"})]})]}),(0,t.jsx)(r.A,{className:"w-6 h-6 text-gray-700"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border-b-4 border-teal-500",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"Habilidades en crecimiento"}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"text-3xl font-extrabold text-gray-900",children:o}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Objetivos definidos"})]})]}),(0,t.jsx)(l.A,{className:"w-6 h-6 text-gray-700"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border-b-4 border-sky-500",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"Habilidades Validadas"}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"text-3xl font-extrabold text-gray-900",children:d}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["de ",m," totales"]})]})]}),(0,t.jsx)(i.A,{className:"w-6 h-6 text-gray-700"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border-b-4 border-pink-500",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"Ultima actualizaci\xf3n"}),(0,t.jsx)("div",{className:"mt-3 text-sm text-gray-700",children:x||"â€”"})]}),(0,t.jsx)(n.A,{className:"w-6 h-6 text-gray-700"})]})})]})}},53908:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var t=s(95155),r=s(12115),l=s(17580),i=s(48623),n=s(33109),c=s(72713),o=s(18186);function d(e){let{id:a,label:s,iconName:r,isActive:d,onClick:m}=e;return(0,t.jsxs)("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(d?"bg-white text-[#003366] shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(e=>{switch(e){case"Users":return(0,t.jsx)(l.A,{className:"h-4 w-4"});case"ClipboardCheck":return(0,t.jsx)(i.A,{className:"h-4 w-4"});case"TrendingUp":return(0,t.jsx)(n.A,{className:"h-4 w-4"});case"BarChart3":return(0,t.jsx)(c.A,{className:"h-4 w-4"});case"Trophy":return(0,t.jsx)(o.A,{className:"h-4 w-4"});default:return null}})(r),(0,t.jsx)("span",{children:s})]})}function m(e){var a;let{tabs:s,defaultActiveTab:l}=e,[i,n]=(0,r.useState)(""),[c,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var e;n(l||(null===(e=s[0])||void 0===e?void 0:e.id)||""),o(!0)},[l,s]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:s.map(e=>(0,t.jsx)(d,{id:e.id,label:e.label,iconName:e.iconName,isActive:i===e.id,onClick:()=>n(e.id)},e.id))}),(0,t.jsx)("div",{className:"mt-6",children:c?null===(a=s.find(e=>e.id===i))||void 0===a?void 0:a.content:null})]})}},54970:(e,a,s)=>{"use strict";s.d(a,{default:()=>x});var t=s(95155),r=s(12115),l=s(83540),i=s(18087),n=s(82868),c=s(11832),o=s(57313),d=s(66545);let m=[{category:"Facilitaci\xf3n",nivelActual:4,nivelObjetivo:5,promedioChapter:3.5,topChapter:5},{category:"Experimentaci\xf3n",nivelActual:3,nivelObjetivo:4,promedioChapter:3,topChapter:4.5},{category:"Arquitectura de la informaci\xf3n",nivelActual:4,nivelObjetivo:4,promedioChapter:3.8,topChapter:5},{category:"Dise\xf1o e Interacci\xf3n",nivelActual:3,nivelObjetivo:4,promedioChapter:3.2,topChapter:4.7},{category:"Estrategia de Contenido",nivelActual:2,nivelObjetivo:3,promedioChapter:2.5,topChapter:4},{category:"Usabilidad",nivelActual:3,nivelObjetivo:4,promedioChapter:3.1,topChapter:4.8},{category:"Negocio y Estrategia",nivelActual:2,nivelObjetivo:3,promedioChapter:2.7,topChapter:4.2},{category:"Liderazgo UX",nivelActual:1,nivelObjetivo:2,promedioChapter:1.5,topChapter:3},{category:"Investigaci\xf3n / Research",nivelActual:3,nivelObjetivo:4,promedioChapter:3.3,topChapter:4.9},{category:"Data Driven",nivelActual:2,nivelObjetivo:3,promedioChapter:2.2,topChapter:4},{category:"Dise\xf1o Visual",nivelActual:4,nivelObjetivo:5,promedioChapter:3.9,topChapter:5},{category:"Pensamiento de Producto",nivelActual:3,nivelObjetivo:4,promedioChapter:3.1,topChapter:4.6},{category:"Sistemas de Dise\xf1o",nivelActual:4,nivelObjetivo:5,promedioChapter:4,topChapter:5},{category:"Accesibilidad",nivelActual:2,nivelObjetivo:3,promedioChapter:2.5,topChapter:4},{category:"IA y Tecnolog\xedas Emergentes",nivelActual:2,nivelObjetivo:3,promedioChapter:2.1,topChapter:4}];function x(e){let{data:a=m}=e,[s,x]=(0,r.useState)({nivelActual:!0,nivelObjetivo:!0,promedioChapter:!0,topChapter:!0}),h=e=>{x(a=>({...a,[e]:!a[e]}))};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Mi Perfil de habilidades"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-start w-full",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(l.u,{width:800,height:500,children:(0,t.jsxs)(i.V,{cx:320,cy:250,outerRadius:200,width:600,height:500,data:a,children:[(0,t.jsx)(n.z,{}),(0,t.jsx)(c.r,{dataKey:"category",tick:{fontSize:13}}),(0,t.jsx)(o.E,{angle:30,domain:[0,5],tickCount:6}),s.nivelActual&&(0,t.jsx)(d.V,{name:"Nivel actual",dataKey:"nivelActual",stroke:"#2196F3",fill:"#2196F3",fillOpacity:.4}),s.nivelObjetivo&&(0,t.jsx)(d.V,{name:"Nivel objetivo",dataKey:"nivelObjetivo",stroke:"#E91E63",fill:"#E91E63",fillOpacity:.15}),s.promedioChapter&&(0,t.jsx)(d.V,{name:"Promedio del Chapter",dataKey:"promedioChapter",stroke:"#FFC107",fill:"#FFC107",fillOpacity:.15,dot:!1}),s.topChapter&&(0,t.jsx)(d.V,{name:"Tops del Chapter",dataKey:"topChapter",stroke:"#673AB7",fill:"#673AB7",fillOpacity:.1,dot:!1})]})})}),(0,t.jsx)("div",{className:"flex flex-col gap-3 mt-8 md:mt-0 md:ml-4 min-w-[200px]",children:[{key:"nivelActual",label:"Nivel actual",color:"#2196F3"},{key:"nivelObjetivo",label:"Nivel objetivo",color:"#E91E63"},{key:"promedioChapter",label:"Promedio del Chapter",color:"#FFC107"},{key:"topChapter",label:"Tops del Chapter",color:"#673AB7"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>h(e.key),className:"flex items-center gap-2 px-3 py-2 rounded transition border text-left font-medium text-base focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-".concat(e.color.replace("#","")," ").concat(s[e.key]?"":"opacity-40 border-gray-300 bg-gray-100"),style:{color:e.color,borderColor:e.color,background:s[e.key]?"white":"#f3f4f6"},children:[(0,t.jsx)("span",{style:{display:"inline-block",width:16,height:16,borderRadius:"50%",background:e.color,opacity:s[e.key]?1:.3}}),e.label]},e.key))})]})]})}},61432:(e,a,s)=>{"use strict";s.d(a,{default:()=>h});var t=s(95155),r=s(83540),l=s(6046),i=s(94754),n=s(96025),c=s(52071),o=s(16254),d=s(28643),m=s(36079);let x=[{month:"ENE",value:5},{month:"FEB",value:20},{month:"MAR",value:10},{month:"ABR",value:-10},{month:"MAY",value:20},{month:"JUN",value:50}];function h(e){let{data:a=x}=e;return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Mejora de Skills del Equipo"}),(0,t.jsx)("div",{className:"h-[260px] w-full",children:(0,t.jsx)(r.u,{width:"100%",height:"100%",children:(0,t.jsxs)(l.b,{data:a,margin:{top:20,right:20,left:0,bottom:10},children:[(0,t.jsx)(i.d,{strokeDasharray:"3 3",stroke:"#eee"}),(0,t.jsx)(n.W,{dataKey:"month",tick:{fontSize:12}}),(0,t.jsx)(c.h,{hide:!0,domain:[e=>Math.min(-15,e),e=>Math.max(55,e)]}),(0,t.jsx)(o.m,{formatter:e=>"".concat(e,"%"),labelFormatter:e=>"Mes: ".concat(e)}),(0,t.jsx)(d.N,{type:"monotone",dataKey:"value",stroke:"#7E22CE",strokeWidth:3,dot:{r:5,strokeWidth:2,stroke:"#7E22CE",fill:"#7E22CE"},children:(0,t.jsx)(m.Z,{dataKey:"value",position:"top",formatter:e=>"".concat(e,"%"),className:"text-sm fill-gray-800"})})]})})}),(0,t.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Variaci\xf3n porcentual promedio del nivel de skills del equipo respecto al mes anterior."})]})}},73765:(e,a,s)=>{"use strict";s.d(a,{default:()=>b});var t=s(95155),r=s(12115),l=s(17580);function i(e){let{icon:a,title:s,subtitle:r,iconColor:l="text-gray-700"}=e;return(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-md bg-gray-100",children:(0,t.jsx)(a,{className:"h-5 w-5 ".concat(l)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-800 leading-tight",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1 leading-snug max-w-prose",children:r})]})]})})}function n(e){let{children:a,className:s=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 ".concat(s),children:a})}var c=s(20043),o=s(69663),d=s(14186),m=s(40646),x=s(66474);function h(e){var a;let s,l;let{autoOpen:i}=e,[n,h]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[p,v]=(0,r.useState)([]),b=async()=>{if(!n&&0===p.length){g(!0);try{let a=await fetch("/api/team/member/".concat(e.member.id)),s=await a.json();console.debug("Fetched member skills",e.member.id,s),v(s.skills||[])}catch(e){console.error(e)}finally{g(!1)}}h(e=>!e)};(0,r.useEffect)(()=>{i&&!n&&b()},[i]);let{strengths:j,opportunities:y}=(0,r.useMemo)(()=>{if(!p.length)return{strengths:[],opportunities:[]};let e=[...p].sort((e,a)=>a.numericLevel-e.numericLevel);return{strengths:e.slice(0,3),opportunities:[...e].reverse().slice(0,3)}},[p]);return(0,t.jsxs)("div",{className:"relative bg-white rounded-lg border p-6 shadow-sm transition-colors",children:[(0,t.jsx)("button",{type:"button","aria-expanded":n,onClick:b,className:"absolute inset-0 w-full h-full cursor-pointer focus:outline-none rounded-lg",tabIndex:0,children:(0,t.jsx)("span",{className:"sr-only",children:n?"Ocultar detalles de miembro":"Mostrar detalles de miembro"})}),(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4 pointer-events-none",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(o.eu,{className:"h-12 w-12",children:[e.member.avatarUrl&&(0,t.jsx)(o.BK,{src:e.member.avatarUrl,alt:"".concat(e.member.firstName," ").concat(e.member.lastName),referrerPolicy:"no-referrer"}),(0,t.jsx)(o.q5,{className:"bg-[#003366]/10 text-[#003366]",children:(s=e.member.firstName,l=e.member.lastName,"".concat((null==s?void 0:s.charAt(0))||"").concat((null==l?void 0:l.charAt(0))||"").toUpperCase())})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.member.firstName," ",e.member.lastName]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.member.email}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[(0,t.jsx)("span",{className:"inline-block bg-[#003366]/10 text-[#003366] text-xs px-2 py-1 rounded-full",children:(e=>{switch(e){case"designer":return"Product Designer";case"leader":return"L\xedder";case"head_chapter":return"Head Chapter";case"admin":return"Administrador";default:return e}})(e.member.role)}),e.member.squad&&(0,t.jsx)("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:e.member.squad})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[e.progress,"%"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Progreso"})]})]}),(0,t.jsx)("div",{className:"mb-6 pointer-events-none",children:(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(0===(a=e.progress)?"bg-gray-300":a<=20?"bg-gray-400":a<=40?"bg-green-400":a<=60?"bg-green-500":a<=80?"bg-green-600":"bg-green-700"),style:{width:"".concat(e.progress,"%")}})})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pointer-events-none",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 text-[#FF6B35]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pendientes"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-[#FF6B35]",children:e.pendingSkills})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Completadas"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-green-600",children:e.completedSkills})]})]})]}),(0,t.jsx)("div",{className:"absolute top-4 right-4 text-gray-400 transition-transform pointer-events-none ".concat(n?"rotate-180":""),children:(0,t.jsx)(x.A,{className:"h-5 w-5"})}),n&&(0,t.jsx)("div",{className:"mt-8",children:u?(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Cargando fortalezas y oportunidades..."}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Top 3 Fortalezas"}),(0,t.jsxs)("ul",{className:"space-y-4",children:[j.map(e=>{var a;return(0,t.jsxs)("li",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"leading-snug",children:[e.category&&(0,t.jsx)("div",{className:"text-[12px] text-gray-500 font-medium",children:(null===(a=c.Ay.find(a=>a.slug===e.category))||void 0===a?void 0:a.label)||e.category}),(0,t.jsx)("div",{className:"text-[12px] font-semibold text-gray-800",children:e.name})]}),(0,t.jsx)("div",{className:"h-2 bg-green-100 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500",style:{width:"".concat(e.numericLevel/5*100,"%")}})})]},e.id)}),!j.length&&(0,t.jsx)("li",{className:"text-xs text-gray-400",children:"Sin datos"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Top 3 Oportunidades"}),(0,t.jsxs)("ul",{className:"space-y-4",children:[y.map(e=>{var a;return(0,t.jsxs)("li",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"leading-snug",children:[e.category&&(0,t.jsx)("div",{className:"text-[12px] text-gray-500 font-medium",children:(null===(a=c.Ay.find(a=>a.slug===e.category))||void 0===a?void 0:a.label)||e.category}),(0,t.jsx)("div",{className:"text-[12px] font-semibold text-gray-800",children:e.name})]}),(0,t.jsx)("div",{className:"h-2 bg-amber-100 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-amber-400",style:{width:"".concat(e.numericLevel/5*100,"%")}})})]},e.id)}),!y.length&&(0,t.jsx)("li",{className:"text-xs text-gray-400",children:"Sin datos"})]})]})]})})]})}var u=s(34477);let g=(0,u.createServerReference)("0033767f7da95317e13178de7ce8e5b02f33e7b9fb",u.callServer,void 0,u.findSourceMapURL,"getTeamMembersWithStats");function p(){let[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await g();a(e)}catch(e){console.error("Error fetching team members:",e)}finally{i(!1)}})()},[]),s)?(0,t.jsx)(v,{}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)(l.A,{className:"h-24 w-24 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"A\xfan no hay miembros asignados"}),(0,t.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Los dise\xf1adores que se asignen a tu equipo aparecer\xe1n aqu\xed"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Los miembros del equipo podr\xe1n realizar autoevaluaciones que t\xfa podr\xe1s revisar y aprobar."})]}):(0,t.jsx)("div",{className:"grid gap-6",children:e.map((e,a)=>(0,t.jsx)(h,{member:e,progress:e.progress,pendingSkills:e.pendingSkills,completedSkills:e.completedSkills,autoOpen:0===a},e.id))})}function v(){return(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Cargando miembros del equipo..."})]})}function b(){return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(i,{icon:l.A,title:"Miembros del Equipo",subtitle:"Gestiona el desarrollo de skills de tu equipo de dise\xf1adores"}),(0,t.jsx)(p,{})]})})}},80574:(e,a,s)=>{"use strict";s.d(a,{default:()=>b});var t=s(95155),r=s(12115),l=s(56671),i=s(97168),n=s(74466),c=s(53999);let o=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",static:"border-transparent"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,c.cn)(o({variant:s}),a),...r})}var m=s(69663),x=s(13052),h=s(14186),u=s(81284),g=s(54861),p=s(40646);function v(e){let{assessment:a,onAction:s}=e,[n,c]=(0,r.useState)(!1),[o,v]=(0,r.useState)(""),[b,j]=(0,r.useState)(!1),y=async(e,a)=>{let s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=null;try{t=await s.json()}catch(e){}if(!s.ok)throw Error((null==t?void 0:t.error)||"HTTP ".concat(s.status));return t},f=async()=>{c(!0);try{let e=await y("/api/assessments/approve",{id:a.id});l.oR.success(e.message||"Evaluaci\xf3n aprobada exitosamente"),s()}catch(e){l.oR.error((null==e?void 0:e.message)||"Error inesperado al aprobar la evaluaci\xf3n")}finally{c(!1)}},N=async()=>{let e=o.trim();if(!e){l.oR.error("Debes ingresar un motivo para rechazar");return}c(!0);try{let t=await y("/api/assessments/reject",{id:a.id,reason:e});l.oR.success(t.message||"Evaluaci\xf3n rechazada exitosamente"),s(),v(""),j(!1)}catch(e){l.oR.error((null==e?void 0:e.message)||"Error inesperado al rechazar la evaluaci\xf3n")}finally{c(!1)}};return(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-4 sm:p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-2 sm:space-y-0 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.eu,{className:"size-8",children:a.memberAvatar?(0,t.jsx)(m.BK,{src:a.memberAvatar,alt:a.memberName}):(0,t.jsx)(m.q5,{children:a.memberName.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase()})}),(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:a.memberName})]}),(0,t.jsx)("span",{className:"text-xs sm:text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded w-fit",children:(e=>{let a=null==e?void 0:e.toLowerCase().trim();return"designer"===a||"dise\xf1ador"===a||"disenador"===a?"Product Designer":e})(a.memberRole)})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700 flex items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:a.category||"Sin categor\xeda"}),(0,t.jsx)(x.A,{className:"h-4 w-4 mx-1 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:a.skillName})]}),(0,t.jsx)(d,{variant:"static",className:"".concat((e=>{switch("string"==typeof e?Number.parseInt(e):e){case 0:return"bg-gray-100 text-gray-600";case 1:return"bg-red-100 text-red-600";case 2:return"bg-[#FF6B35]/10 text-[#FF6B35]";case 3:return"bg-[#003366]/10 text-[#003366]";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(a.level)," text-xs"),children:(e=>{switch("string"==typeof e?Number.parseInt(e):e){case 0:return"No familiarizado";case 1:return"Comprendo";case 2:return"En desarrollo";case 3:return"Aut\xf3nomo";case 4:return"Promuevo";case 5:return"Transformo";default:return e.toString()}})(a.level)})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start sm:items-end space-y-1",children:[(0,t.jsxs)(d,{className:"bg-yellow-100 text-yellow-800 text-xs",children:[(0,t.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Pendiente"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Justificaci\xf3n:"}),a.justification&&a.justification.trim()?(0,t.jsx)("p",{className:"text-sm text-gray-800 leading-relaxed whitespace-pre-line",children:a.justification}):(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,t.jsx)(u.A,{className:"h-4 w-4","aria-hidden":!0}),(0,t.jsx)("span",{className:"text-sm italic",children:"No se provey\xf3 justificaci\xf3n."})]})]}),a.evidence&&""!==a.evidence.trim()&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Evidencias:"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:a.evidence})]}),b&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo de rechazo"}),(0,t.jsx)("textarea",{className:"w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-200",placeholder:"Describe claramente el motivo del rechazo",value:o,onChange:e=>v(e.target.value),rows:2}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",className:"text-gray-700 border-gray-200 bg-transparent",onClick:()=>j(!1),disabled:n,children:"Cancelar"}),(0,t.jsx)(i.$,{variant:"destructive",size:"sm",className:"text-white",onClick:N,disabled:n,children:n?"Procesando...":"Confirmar rechazo"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 w-full sm:w-auto bg-transparent",onClick:()=>{j(!0)},disabled:n,children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),n?"Procesando...":"Rechazar"]}),(0,t.jsxs)(i.$,{size:"sm",className:"bg-[#FF6B35] hover:bg-[#E55A2B] text-white w-full sm:w-auto",onClick:f,disabled:n,children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),n?"Procesando...":"Aprobar"]})]})]})}function b(){let[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),n=async()=>{try{i(!0);let e=await fetch("/api/assessments/pending");if(!e.ok)throw Error("Error al cargar las evaluaciones pendientes");let s=await e.json();a(s)}catch(e){console.error("Error al cargar evaluaciones:",e),l.oR.error("Error al cargar las evaluaciones pendientes")}finally{i(!1)}};return((0,r.useEffect)(()=>{n()},[]),s)?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg mb-4"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg mb-4"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"})]})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 px-4",children:[(0,t.jsx)(h.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay evaluaciones pendientes"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"No hay skills pendientes de aprobaci\xf3n en tu equipo."})]}):(0,t.jsxs)("div",{className:"space-y-4 px-4 sm:px-0",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Evaluaciones Pendientes"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Revisa y aprueba las evaluaciones de skills de tu equipo"})]}),e.map(e=>(0,t.jsx)(v,{assessment:e,onAction:n},e.id))]})}},99830:(e,a,s)=>{"use strict";s.d(a,{default:()=>x});var t=s(95155),r=s(12115),l=s(83540),i=s(18087),n=s(82868),c=s(11832),o=s(57313),d=s(66545);let m=[{category:"Facilitaci\xf3n",teamAverage:3.2,chapterAverage:3.8,clusterTop:4.7},{category:"Experimentaci\xf3n",teamAverage:2.9,chapterAverage:3.4,clusterTop:4.5},{category:"Arquitectura de la informaci\xf3n",teamAverage:3.1,chapterAverage:3.6,clusterTop:4.8},{category:"Dise\xf1o e Interacci\xf3n",teamAverage:3.4,chapterAverage:3.9,clusterTop:4.9},{category:"Estrategia de Contenido",teamAverage:2.7,chapterAverage:3.2,clusterTop:4.4},{category:"Usabilidad",teamAverage:3,chapterAverage:3.5,clusterTop:4.9},{category:"Negocio y Estrategia",teamAverage:2.6,chapterAverage:3.1,clusterTop:4.3},{category:"Liderazgo UX",teamAverage:2.2,chapterAverage:2.9,clusterTop:4},{category:"Investigaci\xf3n / Research",teamAverage:3,chapterAverage:3.7,clusterTop:5},{category:"Data Driven",teamAverage:2.5,chapterAverage:3.1,clusterTop:4.6},{category:"Dise\xf1o Visual",teamAverage:3.3,chapterAverage:3.9,clusterTop:5},{category:"Pensamiento de Producto",teamAverage:2.8,chapterAverage:3.3,clusterTop:4.6},{category:"Sistemas de Dise\xf1o",teamAverage:3.1,chapterAverage:3.7,clusterTop:4.9},{category:"Accesibilidad",teamAverage:2.4,chapterAverage:2.9,clusterTop:4.2},{category:"IA y Tecnolog\xedas Emergentes",teamAverage:2.1,chapterAverage:2.7,clusterTop:4.1}];function x(e){let{data:a=m}=e,[s,x]=(0,r.useState)({teamAverage:!0,chapterAverage:!0,clusterTop:!0}),h=e=>x(a=>({...a,[e]:!a[e]}));return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Comparaci\xf3n del Chapter"}),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{key:"teamAverage",label:"Team average",color:"#1D4ED8"},{key:"chapterAverage",label:"Chapter average",color:"#EAB308"},{key:"clusterTop",label:"Cluster TOP",color:"#7E22CE"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>h(e.key),className:"flex items-center gap-2 px-4 py-2 rounded-md border text-sm font-medium transition bg-white ".concat(s[e.key]?"":"opacity-40"),style:{borderColor:e.color},children:[(0,t.jsx)("span",{className:"inline-flex items-center justify-center",style:{width:18,height:18},children:(0,t.jsx)("span",{className:"rounded-full",style:{display:"inline-block",width:14,height:14,background:e.color,opacity:s[e.key]?1:.25}})}),e.label]},e.key))}),(0,t.jsx)("div",{className:"w-full h-[420px]",children:(0,t.jsx)(l.u,{width:"100%",height:"100%",children:(0,t.jsxs)(i.V,{data:a,outerRadius:170,margin:{top:10,right:10,left:10,bottom:10},children:[(0,t.jsx)(n.z,{}),(0,t.jsx)(c.r,{dataKey:"category",tick:{fontSize:11}}),(0,t.jsx)(o.E,{angle:30,domain:[0,5],tickCount:6}),s.teamAverage&&(0,t.jsx)(d.V,{dataKey:"teamAverage",name:"Team average",stroke:"#1D4ED8",fill:"#1D4ED8",fillOpacity:.35}),s.chapterAverage&&(0,t.jsx)(d.V,{dataKey:"chapterAverage",name:"Chapter average",stroke:"#EAB308",fill:"#EAB308",fillOpacity:.1,strokeDasharray:"5 5"}),s.clusterTop&&(0,t.jsx)(d.V,{dataKey:"clusterTop",name:"Cluster TOP",stroke:"#7E22CE",fill:"#7E22CE",fillOpacity:.08,strokeDasharray:"2 6"})]})})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[671,874,352,580,779,489,441,684,358],()=>a(12159)),_N_E=e.O()}]);